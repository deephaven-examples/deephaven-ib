<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="deephaven.table" href="deephaven.table.html" /><link rel="prev" title="deephaven.stream.kafka.consumer" href="deephaven.stream.kafka.consumer.html" />

    <link rel="shortcut icon" href="../_static/favicon.svg"/><meta name="generator" content="sphinx-4.2.0, furo 2021.10.09"/>
        <title>deephaven.stream.kafka.producer - deephaven_ib documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=0254c309f5cadf746f1a613e7677379ac9c8cdcd" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=16fb25fabf47304eee183a5e9af80b1ba98259b1" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">deephaven_ib  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">deephaven_ib  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../modules.html">Python Modules</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="deephaven_server.html">deephaven_server</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="deephaven_server.server.html">server</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven_server.start_jvm.html">start_jvm</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="deephaven_ib.html">deephaven_ib</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="deephaven_ib.time.html">time</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="deephaven.html">deephaven</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="deephaven.agg.html">agg</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.appmode.html">appmode</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.calendar.html">calendar</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.column.html">column</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.config.html">config</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.constants.html">constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.csv.html">csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.dherror.html">dherror</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.dtypes.html">dtypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.execution_context.html">execution_context</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="deephaven.experimental.html">experimental</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="deephaven.experimental.ema.html">ema</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.filters.html">filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.html.html">html</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.jcompat.html">jcompat</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="deephaven.learn.html">learn</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="deephaven.learn.gather.html">gather</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.liveness_scope.html">liveness_scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.numpy.html">numpy</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.pandas.html">pandas</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="deephaven.pandasplugin.html">pandasplugin</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="deephaven.pandasplugin.pandas_as_table.html">pandas_as_table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.parquet.html">parquet</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.perfmon.html">perfmon</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="deephaven.plot.html">plot</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plot.axisformat.html">axisformat</a></li>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plot.axistransform.html">axistransform</a></li>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plot.color.html">color</a></li>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plot.figure.html">figure</a></li>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plot.font.html">font</a></li>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plot.linestyle.html">linestyle</a></li>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plot.plotstyle.html">plotstyle</a></li>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plot.selectable_dataset.html">selectable_dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plot.shape.html">shape</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="deephaven.plugin.html">plugin</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plugin.js.html">js</a></li>
<li class="toctree-l4"><a class="reference internal" href="deephaven.plugin.object.html">object</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.query_library.html">query_library</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.replay.html">replay</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="deephaven.server.html">server</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="deephaven.server.plugin.html">plugin</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="deephaven.server.plugin.object.html">object</a></li>
<li class="toctree-l5"><a class="reference internal" href="deephaven.server.plugin.register.html">register</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="deephaven.server.script_session.html">script_session</a></li>
</ul>
</li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="deephaven.stream.html">stream</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4 current has-children"><a class="reference internal" href="deephaven.stream.kafka.html">kafka</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="deephaven.stream.kafka.cdc.html">cdc</a></li>
<li class="toctree-l5"><a class="reference internal" href="deephaven.stream.kafka.consumer.html">consumer</a></li>
<li class="toctree-l5 current current-page"><a class="current reference internal" href="#">producer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.table.html">table</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.table_factory.html">table_factory</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.table_listener.html">table_listener</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.time.html">time</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.ugp.html">ugp</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.updateby.html">updateby</a></li>
<li class="toctree-l3"><a class="reference internal" href="deephaven.uri.html">uri</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jpy.html">jpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="ibapi.contract.html">ibapi.contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="ibapi.order.html">ibapi.order</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="module-deephaven.stream.kafka.producer">
<span id="deephaven-stream-kafka-producer"></span><h1>deephaven.stream.kafka.producer<a class="headerlink" href="#module-deephaven.stream.kafka.producer" title="Permalink to this headline">¶</a></h1>
<p>The kafka.producer module supports publishing Deephaven tables to Kafka streams.</p>
<dl class="py class">
<dt class="sig sig-object py" id="deephaven.stream.kafka.producer.KeyValueSpec">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">KeyValueSpec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">j_spec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deephaven/stream/kafka/producer.html#KeyValueSpec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deephaven.stream.kafka.producer.KeyValueSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">deephaven._wrapper.JObjectWrapper</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="deephaven.stream.kafka.producer.KeyValueSpec.j_object_type">
<span class="sig-name descname"><span class="pre">j_object_type</span></span><a class="headerlink" href="#deephaven.stream.kafka.producer.KeyValueSpec.j_object_type" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">io.deephaven.kafka.KafkaTools$Produce$KeyOrValueSpec</span></code></p>
</dd></dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py" id="deephaven.stream.kafka.producer.avro_spec">
<span class="sig-name descname"><span class="pre">avro_spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_to_col_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_only_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">publish_schema</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deephaven/stream/kafka/producer.html#avro_spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deephaven.stream.kafka.producer.avro_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a spec for how to use an Avro schema to produce a Kafka stream from a Deephaven table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schema</strong> (<em>str</em>) – the name for a schema registered in a Confluent compatible Schema Server. The associated
‘kafka_config’ parameter in the call to produce() should include the key ‘schema.registry.url’ with
the value of the Schema Server URL for fetching the schema definition</p></li>
<li><p><strong>schema_version</strong> (<em>str</em>) – the schema version to fetch from schema service, default is ‘latest’</p></li>
<li><p><strong>field_to_col_mapping</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – a mapping from Avro field names in the schema to column names in
the Deephaven table. Any fields in the schema not present in the dict as keys are mapped to columns of the
same name. The default is None, meaning all schema fields are mapped to columns of the same name.</p></li>
<li><p><strong>timestamp_field</strong> (<em>str</em>) – the name of an extra timestamp field to be included in the produced Kafka message body,
it is used mostly for debugging slowdowns,  default is None.</p></li>
<li><p><strong>include_only_columns</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – the list of column names in the source table to include in the generated
output, default is None. When not None, the ‘exclude_columns’ parameter must be None</p></li>
<li><p><strong>exclude_columns</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – the list of column names to exclude from the generated output (every other column
will be included), default is None. When not None, the ‘include_only_columns’ must be None</p></li>
<li><p><strong>publish_schema</strong> (<em>bool</em>) – when True, publish the given schema name to Schema Registry Server, according to an Avro
schema generated from the table definition, for the columns and fields implied by field_to_col_mapping,
include_only_columns, and exclude_columns; if a schema_version is provided and the resulting version after
publishing does not match, an exception results. The default is False.</p></li>
<li><p><strong>schema_namespace</strong> (<em>str</em>) – when ‘publish_schema’ is True, the namespace for the generated schema to be registered
in the Schema Registry Server.</p></li>
<li><p><strong>column_properties</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – when ‘publish_schema’ is True, specifies the properties of the columns
implying particular Avro type mappings for them. In particular, column X of BigDecimal type should specify
properties ‘x.precision’ and ‘x.scale’.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#deephaven.stream.kafka.producer.KeyValueSpec" title="deephaven.stream.kafka.producer.KeyValueSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">KeyValueSpec</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a KeyValueSpec</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="deephaven.dherror.html#deephaven.dherror.DHError" title="deephaven.dherror.DHError"><strong>DHError</strong></a> – </p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py" id="deephaven.stream.kafka.producer.json_spec">
<span class="sig-name descname"><span class="pre">json_spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nested_delim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_nulls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deephaven/stream/kafka/producer.html#json_spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deephaven.stream.kafka.producer.json_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a spec for how to generate JSON data when producing a Kafka stream from a Deephaven table.</p>
<p>Because JSON is a nested structure, a Deephaven column can be specified to map to a top level JSON field or
a field nested inside another JSON object many levels deep, e.g. X.Y.Z.field. The parameter ‘nested_delim’ controls
how a JSON nested field name should be delimited in the mapping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_columns</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – the list of Deephaven column names to include in the JSON output as fields,
default is None, meaning all except the ones mentioned in the ‘exclude_columns’ argument . If not None,
the ‘exclude_columns’ must be None.</p></li>
<li><p><strong>exclude_columns</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – the list of Deephaven column names to omit in the JSON output as fields, default
is None, meaning no column is omitted. If not None, include_columns must be None.</p></li>
<li><p><strong>mapping</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – a mapping from column names to JSON field names.  Any column name implied by earlier
arguments and not included as a key in the map implies a field of the same name. default is None,
meaning all columns will be mapped to JSON fields of the same name.</p></li>
<li><p><strong>nested_delim</strong> (<em>str</em>) – if nested JSON fields are desired, the field separator that is used for the field names
parameter, or None for no nesting (default). For instance, if a particular column should be mapped
to JSON field X nested inside field Y, the corresponding field name value for the column key
in the mapping dict can be the string “X.Y”, in which case the value for nested_delim should be “.”</p></li>
<li><p><strong>output_nulls</strong> (<em>bool</em>) – when False (default), do not output a field for null column values</p></li>
<li><p><strong>timestamp_field</strong> (<em>str</em>) – the name of an extra timestamp field to be included in the produced Kafka message body,
it is used mostly for debugging slowdowns,  default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#deephaven.stream.kafka.producer.KeyValueSpec" title="deephaven.stream.kafka.producer.KeyValueSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">KeyValueSpec</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a KeyValueSpec</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="deephaven.dherror.html#deephaven.dherror.DHError" title="deephaven.dherror.DHError"><strong>DHError</strong></a> – </p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py" id="deephaven.stream.kafka.producer.produce">
<span class="sig-name descname"><span class="pre">produce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kafka_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_by_key_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deephaven/stream/kafka/producer.html#produce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deephaven.stream.kafka.producer.produce" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce to Kafka from a Deephaven table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> (<a class="reference internal" href="deephaven.table.html#deephaven.table.Table" title="deephaven.table.Table"><em>Table</em></a>) – the source table to publish to Kafka</p></li>
<li><p><strong>kafka_config</strong> (<em>Dict</em>) – configuration for the associated kafka producer</p></li>
<li><p><strong>topic</strong> (<em>str</em>) – the topic name</p></li>
<li><p><strong>key_spec</strong> (<a class="reference internal" href="#deephaven.stream.kafka.producer.KeyValueSpec" title="deephaven.stream.kafka.producer.KeyValueSpec"><em>KeyValueSpec</em></a>) – specifies how to map table column(s) to the Key field in produced Kafka messages.
This should be the result of calling one of the functions simple_spec(), avro_spec() or json_spec() in this
module, or the constant KeyValueSpec.IGNORE</p></li>
<li><p><strong>value_spec</strong> (<a class="reference internal" href="#deephaven.stream.kafka.producer.KeyValueSpec" title="deephaven.stream.kafka.producer.KeyValueSpec"><em>KeyValueSpec</em></a>) – specifies how to map table column(s) to the Value field in produced Kafka messages.
This should be the result of calling one of the functions simple_spec(), avro_spec() or json_spec() in this,
or the constant KeyValueSpec.IGNORE</p></li>
<li><p><strong>last_by_key_columns</strong> (<em>bool</em>) – whether to publish only the last record for each unique key, Ignored if key_spec is
KeyValueSpec.IGNORE. Otherwise, if last_by_key_columns is true this method will internally perform a last_by
aggregation on table grouped by the input columns of key_spec and publish to Kafka from the result.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a callback that, when invoked, stops publishing and cleans up subscriptions and resources.
Users should hold to this callback to ensure liveness for publishing for as long as this
publishing is desired, and once not desired anymore they should invoke it</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="deephaven.dherror.html#deephaven.dherror.DHError" title="deephaven.dherror.DHError"><strong>DHError</strong></a> – </p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py" id="deephaven.stream.kafka.producer.simple_spec">
<span class="sig-name descname"><span class="pre">simple_spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deephaven/stream/kafka/producer.html#simple_spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deephaven.stream.kafka.producer.simple_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a spec that defines a single column to be published as either the key or value of a Kafka message when
producing a Kafka stream from a Deephaven table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>col_name</strong> (<em>str</em>) – the Deephaven column name</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#deephaven.stream.kafka.producer.KeyValueSpec" title="deephaven.stream.kafka.producer.KeyValueSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">KeyValueSpec</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a KeyValueSpec</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="deephaven.dherror.html#deephaven.dherror.DHError" title="deephaven.dherror.DHError"><strong>DHError</strong></a> – </p>
</dd>
</dl>
</dd></dl>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="deephaven.table.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">deephaven.table</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="deephaven.stream.kafka.consumer.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">deephaven.stream.kafka.consumer</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Deephaven Data Labs |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>. |
            <a class="muted-link" href="../_sources/code/deephaven.stream.kafka.producer.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/main.js"></script>
    </body>
</html>